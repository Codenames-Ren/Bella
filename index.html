<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Voice Assistant</title>
    <link rel="stylesheet" href="style.css" />
    <!-- Import Font Awesome icon library for microphone icon -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
  </head>
  <body>
    <!-- Loading screen -->
    <div id="loading-screen">
      <img src="Bellaicon/Generated image.webp" alt="Loading Bella..." />
    </div>

    <!-- Video background -->
    <div class="video-container">
      <video autoplay muted class="bg-video active" id="video1">
        <source src="视频资源/3D 建模图片制作.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <video muted class="bg-video" id="video2">
        <source src="" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
    </div>

    <!-- Content layer, overlaid on top of video -->
    <div class="content-overlay">
      <!-- Top favorability bar -->
      <header class="top-bar">
        <label for="favorability-bar">Favorability</label>
        <div class="progress-container">
          <div class="progress-fill" id="favorability-bar"></div>
        </div>
      </header>

      <!-- Speech recognition result display area -->
      <div class="transcript-container">
        <p id="transcript"></p>
      </div>

      <!-- Sentiment analysis test area -->
      <div class="sentiment-analysis-container">
        <input
          type="text"
          id="sentiment-input"
          placeholder="Type some text to me..."
        />
        <button id="analyze-button">Analyze Emotion</button>
        <p id="sentiment-result"></p>
      </div>

      <!-- Local speech recognition test area -->
      <div id="local-asr-container" class="local-asr-container">
        <button id="local-mic-button">Start Local Recognition</button>
        <p>Local recognition result: <span id="local-asr-result"></span></p>
      </div>

      <!-- Floating button -->
      <div id="floating-button">
        <i class="fas fa-bars"></i>
      </div>

      <!-- Floating menu -->
      <div id="menu-container" class="hidden">
        <button
          class="menu-item"
          data-video="视频资源/jimeng-2025-07-16-4437-比耶，然后微笑着优雅的左右摇晃.mp4"
        >
          Pose
        </button>
        <button class="menu-item" data-video="视频资源/生成加油视频.mp4">
          Cheer
        </button>
        <button class="menu-item" data-video="视频资源/生成跳舞视频.mp4">
          Dance
        </button>
      </div>

      <!-- Bottom microphone and link -->
      <footer class="bottom-bar">
        <button class="mic-button" id="mic-button" aria-label="Start Listening">
          <i class="fas fa-microphone"></i>
        </button>
        <a
          href="https://x.com/jackywine"
          target="_blank"
          rel="noopener noreferrer"
          class="footer-credit"
        >
          @jackywine
        </a>
      </footer>
    </div>

    <script type="module" src="script.js"></script>
  </body>
</html>
